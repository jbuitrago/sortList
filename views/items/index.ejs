<!doctype html>
<html lang="en">
<head>
    <% include ../partials/head %>
</head>
<body class="container">

<header>
    <% include ../partials/header %>
</header>

<main>
    <div class="row">
        <div class="col-sm-8">
                    <form id="myForm" enctype="multipart/form-data">
                        <div class="modal-body">

                            <div class="form-group">
                                <label for="exampleFormControlTextarea1">Description</label>
                                <input type="hidden"  id="_id">
                                <textarea class="form-control" id="description" rows="2" maxlength="300" required></textarea>
                                <small>Max 300</small>
                            </div>
                            <div class="form-group">
                                <label for="exampleFormControlFile1">Image</label>
                                <img src="" id="thumbnail" alt="">
                                <input type="file" class="form-control-file"  name="files" accept=".jpg, .jpeg, .png, .GIF" id="file"  required>
                                <small>Try uploading non-images even if they have .png/.jpg/ .gif extension</small>
                                <br>
                                <small>Images < 320px x 320px will be invalid</small>
                                <div  id="fileInfo"></div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" onclick="cancel()">Cancel</button>
                            <button type="submit" class="btn btn-primary" id="btn_submit" disabled>Save Item</button>
                        </div>
                    </form>

        </div>
        <div class="col-sm-4">

            <h1> #Items:<span id="totalItems"><%= items.length %></span></h1>
        </div>
</div>
        <div class="row">
        <div class="col-sm-10">

            <ul  id="items">
                    <% var i=0 %>
                    <% items.forEach(function(item) { %>

                       <li class="list-group-item" draggable="true" ondragover="dragOver(event)" ondragstart="dragStart(event)" id="li_<%=i%>">
                           <button type="button" class="btn btn-outline-primary"   onclick="editItem(<%=i%>,'<%=item._id%>');">Edit</button>
                           <button type="button" class="btn btn-outline-secondary" onclick="deleteItem(<%=i%>,'<%=item._id%>');">Delete</button>
                           <input type="hidden" id="_id_<%=i%>" value="<%=item._id%>">
                           <input type="hidden" id="description_<%=i%>" value="<%=item.description%>">
                           <input type="hidden" id="file_<%=i%>" value="<%=item.image%>">
                           <%=item.description%>
                       </li>
                <% i= i+1%>
                    <% }); %>
            </ul>
        </div>


    </div>

</main>

<footer>
    <% include ../partials/footer %>
</footer>
</body>
</html>
